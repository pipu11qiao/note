## 与http协作的web服务器

#### 5.1 用单台虚拟主机实现多个域名

在相同ip下，由于虚拟主机可以寄存多个主机名或域名的web网站，因此在发送http请求时，必须在host首部完整指出主机名或域名的URI

5.2 通信程序的转发程序：代理、网关和隧道

##### 代理
代理是一种有转发功能的应用程序，它扮演了位于服务器和客户端“中间人"的角色，接受有客户端发送的请求并转发给服务器，同时也接收服务器返回的响应并转发发给客户端
简而言之：代理是中间人，使用代理的主机发出的IP报文的目的IP是代理的，但是会在应用层里明确告诉代理，自己真实需求是什么？

##### 网关
网关是转发其他服务器通信数据的服务器，接收从客户端发送过来的请求时，他就想自己拥有资源的源服务器一样对请求进行处理。有时客户端可能都不会察觉，自己通信目标是一个网关

简而言之：二层目的MAC地址是网关的，三层目的IP是服务器的。

##### 隧道
隧道是在相隔甚远的客户端和服务器两者之间进行中转，并保持双发通信连接的应用程序
简而言之：隧道通常有两个IP头。

5.2.1 代理转发是添加via字段标记出经过的主机信息

使用代理服务器的理由： 利用缓存技术减少网络带宽的流量，组织内部针对特定网站的访问控制，以获取访问日志为主要目的，等等。

按两种基准分类： 是否缓存 是否修改报文

5.2.2 网关

网关能使通信线路上的服务器提供非http协议服务。

5.2.3 隧道

#### 5.3 保存资源的缓存 ####

> 缓存的时效性 浏览器缓存的时效性 代理的时效

http出现之前的协议：
* ftp
* nntp
* archie
* wais
* gopherk

