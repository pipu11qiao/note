### Vim 使用正则表达式

vim 中使用正则一般是两种情况查询和替换,其实两者基本一致都是在执行正则查询功能，替换是在查询基础上把匹配到的字符串给替换掉(可能会用到正则分组的功能)

#### 语法

##### 查找

```
/正则
```
##### 替换

```
:[range]s/正则/替换的字符/[flags]
```
* range:搜索范围，如果没有指定范围，则作用于但前行。

    1. :1,10s/from/to/ 表示在第1到第10行（包含第1，第10行）之间搜索替换；
    2. :10s/from/to/ 表示只在第10行搜索替换；
    3. :%s/from/to/ 表示在所有行中搜索替换；
    4. :1,$s/from/to/ 同上。

* flags 有如下四个选项

    1. c confirm，每次替换前询问；
    2. e error， 不显示错误；
    3. g globle，不询问，整行替换。如果不加g选项，则只替换每行的第一个匹配到的字符串；
    4. i ignore，忽略大小写。
这些选项可以合并使用，gi表示不区分大小写，整行替换。

#### vim正则表达式

##### 元字符
* 普通元字符

元字符 | 说明
-- | --
. |
[abc] |
[^abc] | 
\d |
\D |
\x |
\X |
\w |
\W |
\t |
\s |
\S | 

* 因为元字符(或表达式使用)占用，需要转义的普通字符

元字符 | 说明
-- | --
\* |
\. |
\\ |
\/ |
\[ |

* 表示数量的元字符

元字符 | 说明
-- | --
* |
\+ |
\? |
\{n,m} |
\{n} |
\{n,} |
\{,m} |

* 表示位置的元字符

元字符 | 说明
-- | --
^ |
$ |
\< |
\> |

##### 分组匹配

在正规表达式中使用 \( 和 \) 符号括起正规表达式，即可在后面使用\1、\2 等变量来访问 \( 和 \) 中的内容。


#### 参考

1. [Vim查找替换及正则表达式的使用](http://tanqisen.github.io/blog/2013/01/13/vim-search-replace-regex/)
1. [Vim查找替换及正则表达式的使用](http://tanqisen.github.io/blog/2013/01/13/vim-search-replace-regex/)

